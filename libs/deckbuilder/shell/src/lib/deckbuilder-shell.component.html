<div class="frame">
  <div class="top-bar p-sm wireframe">
    <i class="hamburger">Hamburger</i>
  </div>
  <div class="playmat p-sm wireframe">
    <ng-container *ngrxLet="deck$; let deck">
      <mtg-deckbuilder-shell-ui
        *ngIf="deck"
        [deck]="deck"
        [cards]="cards$ | ngrxPush"
        (moveColumn)="moveColumn($event)"
        (moveInColumn)="moveInColumn($event)"
        (removeCard)="removeCard($event)"
      ></mtg-deckbuilder-shell-ui>
      <div class="graph" *ngrxLet="totalCards$; let totalCards">
        <mtg-sparkline-chart
          *ngIf="totalCards > 0"
          [points]="points$ | ngrxPush"
        ></mtg-sparkline-chart>
      </div>
    </ng-container>
  </div>
  <div class="sidebar p-sm wireframe">
    <button
      mat-raised-button
      color="primary"
      class="m-b-sm"
      (click)="addNewDeck()"
    >
      Add new Deck
    </button>
    <button
      mat-raised-button
      color="accent"
      class="m-b-sm"
      (click)="sortCards()"
    >
      Sort Cards
    </button>
    Select Deck
    <select
      *ngrxLet="decks$; let decks"
      class="m-b-sm"
      (change)="chooseDeck($event)"
    >
      <option
        *ngFor="let deck of decks; trackBy: trackDeck"
        [value]="deck.deckId"
      >
        {{ deck.name }}
      </option>
    </select>
    <div *ngrxLet="deck$; let deck">
      <input
        *ngIf="deck"
        [ngModel]="deck.name"
        (ngModelChange)="updateDeck({ name: $event })"
      />
    </div>
    <div *ngrxLet="avgManaValue$; let avgManaValue">
      Average Mana Value: {{ avgManaValue }}
    </div>
    <div *ngrxLet="totalCards$; let totalCards">
      Total Cards: {{ totalCards }}
    </div>
    <div *ngrxLet="ratios$; let ratios">
      <div *ngFor="let ratio of ratios">
        {{ ratio }}
      </div>
    </div>
    <mtg-card-search></mtg-card-search>
  </div>
</div>

<div class="deck-select"></div>
